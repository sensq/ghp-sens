<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
	<link rel="stylesheet" type="text/css" href="div.css">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-43133177-1', 'atpages.jp');
		ga('send', 'pageview');
	</script>
	<script src="./js.js"></script>

	<title>
		ブレンディング
	</title>
</head>

<body>
	<div id="container">
	<div id="header">
		<div id="inner">
			ブレンディング
		</div>
	</div>
		Photoshopに入っているブレンドモードの実装<br>
		<i>描画エリアにドラッグ＆ドロップでローカルの画像を読み込めます。</i></font><br>
		<i>2枚のサイズ（正確にはアスペクト比）が異なるとおかしくなるけど直せてません。</i></font><br>
		<hr>
		<output hidden id="list"></output>
		<div id="cont">
			<div id="siki">
				<a href="http://www47.atpages.jp/sensq/blog/2014/02/02/632/"><i>使い方</i></a>　
				<br>
				Basic：
				<button onclick="CV.blend('add');" id="add">加算</button>
				<button onclick="CV.blend('diff');" id="diff">減算</button>
				<button onclick="CV.blend('exclusion');" id="exclusion">除外</button>
				<button onclick="CV.blend('abs');" id="abs">差の絶対値</button>
				<br>
				Darken：
				<button hidden onclick="CV.blend('compD');" id="compD">×比較（暗）</button>
				<button onclick="CV.blend('multi');" id="multi">乗算</button>
				<button onclick="CV.blend('burn');" id="burn">焼き込み</button>
				<br>
				Lighten：
				<button hidden onclick="CV.blend('compL');" id="compL">×比較（明）</button>
				<button onclick="CV.blend('screen');" id="screen">スクリーン</button>
				<button onclick="CV.blend('dodge');" id="dodge">覆い焼き</button>
				<br>
				Contrast：
				<button onclick="CV.blend('overlay');" id="overlay">オーバーレイ</button>
				<button onclick="CV.blend('soft');" id="soft">ソフトライト</button>
				<button onclick="CV.blend('hard');" id="hard">ハードライト</button>
				<button onclick="CV.blend('vivid');" id="vivid">ビビッドライト</button>
				<button onclick="CV.blend('linear');" id="linear">リニアライト</button>
				<button onclick="CV.blend('pin');" id="pin">ピンライト</button>
				<br>
				Other：
				<button onclick="CV.blend('vividmis');" id="vividmis">ビビッドライトのミス</button>
				<br>
				<label><input type="checkbox" id="change" onChange="CV.change();">画像を入れ替える</label>
				<label><input type="checkbox" id="transparent">下レイヤーが白い部分は透過</label>
				<input type="number" id="opacity" size="3" min="0" max="255" placeholder="128"><font size="2">閾値</font>
				<label><input type="checkbox" id="resize" hidden></label>
				<label><input type="checkbox" id="copy" hidden></label>
			</div>
			<hr>
			<div id="other">
				<button onclick="setBlendImage2('miku.jpg', 'divImg2');" id="b1">ブレンド用画像1</button>
				<button onclick="setBlendImage2('blend.png', 'divImg2');" id="b2">ブレンド用画像2</button>
				<button onclick="setBlendImage2('silhouette.png', 'divImg2');" id="b3">ブレンド用画像3</button>
				<button onclick="setBlendImage2('js_glow.png', 'divImg2');" id="b4">ブレンド用画像4</button>
				<button onclick="CV.save();" id="save">保存</button>
				<br>
				左：下レイヤー（重ねられる画像）、中：上レイヤー（重ねる画像）、右：結果
			</div>
		</div>
		<hr>
		<canvas id="divImg1">
			お使いのブラウザには対応していません。<br>
			Chrome, Firefox, Opera, Safariでの動作は確認しています。<br>
			まさかまだ<b>Internet Explorer（通称IE）</b><img src="IE.jpeg" width="40px" height="40px">をお使いになられているのでしょうか？
		</canvas>
		<canvas id="divImg2">
		画像描画領域
		</canvas>
		<canvas id="blendImg">
		画像描画領域
		</canvas>
	</div>
</body>
</html>
